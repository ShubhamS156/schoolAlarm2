TODO: 
thread safe nav for the menu





Story:

shared resource: lcd
actually currentMode is also shared, but here we are treating as it is not coz it is just used to check condition, so race condition will only lead to drawing home once where it shouldnt have.

take mutex in every lcd writer function.


keyPressTask will only be allowed to change currentMode.
keyPressTask will handle navigations for everything. Different meaning for keys will be infered by checking for  the currentMode.
if using keyPressTask only for nav and infered meaning of keys, will have to declare all the variables used in the task, will have to make some of them static , but waste of mem, as they wouldnt be needed after exiting say a particular mode.

loopFlag vs currentItem

right now on a mode exits on pressing down, but ahead a function will be called , so mode's content will be cleared after calling function and current menu will be 
displayed.




every mode will have its own handler, which will take care of writing and clearing lcd.


->on pressing back, i think currently it is going to the root of the parent menu, instead make it go to the menu item from where it entered the child menu
-? figure out a way to start homescreen by default